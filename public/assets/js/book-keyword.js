!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=11)}({11:function(e,t,n){e.exports=n("q2Pb")},q2Pb:function(e,t){$(".keywords-form").first().find(".keywords").select2({width:"style",placeholder:$(this).data("placeholder"),tags:!0,tokenSeparators:[","],maximumSelectionLength:0,ajax:{url:"/keywords/search",dataType:"json",delay:100,data:function(e){return{q:e.term,page:e.page||1}},processResults:function(e,t){t.page=t.page||1;for(var n=[],r=0;r<e.data.length;r++)n[r]=e.data[r],n[r].id=n[r].text;return{results:n,pagination:{more:!!e.next_page_url}}},cache:!0},escapeMarkup:function(e){return e},templateResult:function(e){if(e.loading)return e.text;var t="";return e.text?(t+="<div >",t+=e.text,t+=" </div>"):(t+="<div >",t+=e.keyword.text,t+=" </div>"),t},templateSelection:function(e){return e.keyword?e.keyword.text:e.text}}),$(".keyword").each((function(){var e=$(this),t=$(this).find(".buttons");e.find(".delete").click((function(){var n=$(this);n.button("loading"),$.ajax({method:"DELETE",url:"/books/"+e.data("book-id")+"/keywords/"+e.data("id")}).done((function(r){t.remove(),n.button("reset"),e.addClass("transparency")}))})),e.find(".approve").click((function(){var n=$(this);n.button("loading"),$.ajax({method:"GET",url:"/books/"+e.data("book-id")+"/keywords/"+e.data("id")+"/approve"}).done((function(e){t.remove(),n.button("reset")}))}))}))}});