!function(e){var n={};function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=18)}({18:function(e,n,t){e.exports=t("NXzw")},NXzw:function(e,n){var t=$("ol.sortable").sortable({handle:".handle",group:"sortable",nested:!1,pullPlaceholder:!0,onDrop:function(e,n,t){var o=$("<li/>").css({height:0});e.before(o),o.animate({height:e.height()}),e.animate(o.position(),(function(){o.detach(),t(e,n)}))}}),o=$(".save").first();o.unbind("click").bind("click",(function(){o.find(".fa-spinner").show();var e=t.sortable("serialize").get()[0];$.ajax({type:"POST",url:"/books/"+window.sharedData.book.id+"/notes/save_position",data:{hierarchy:function e(n){return $.each(n,(function(t,o){n[t].children=e(o.children[0])})),n}(e)},success:function(e){o.find(".fa-spinner").hide()},error:function(e){o.find(".fa-spinner").hide()}})})),$(".section").each((function(){var e=$(this),n=e.data("id"),t=e.data("book-id"),o=e.data("inner-id");e.find("[type=checkbox]").click((function(){$(".move_to_sections").show()}));var i=e.find(".delete");i.unbind("click").on("click",(function(){a($(this))}));var r=e.find(".restore");function a(n){n.button("loading"),n.hide(),$.ajax({method:"GET",url:"/books/"+t+"/sections/"+o+"/delete"}).done((function(n){n.deleted_at?(i.hide(),r.show(),e.find(".title").addClass("transparency")):(i.show(),r.hide(),e.find(".title").removeClass("transparency")),r.button("reset"),i.button("reset")}))}r.unbind("click").on("click",(function(){a($(this))})),e.find(".move-to-chapters").unbind("click").on("click",(function(){$.ajax({type:"POST",url:"/books/"+window.sharedData.book.id+"/sections/move_to_chapters",data:{ids:n},dataType:"json",success:function(n){e.remove()},error:function(e,n){}})}))}))}});